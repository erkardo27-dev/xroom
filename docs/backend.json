
{
  "entities": {
    "Hotel": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Hotel",
      "type": "object",
      "description": "Represents a hotel entity managed by a user. The document ID is the user's UID.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the hotel, same as the owner's UID."
        },
        "hotelName": {
          "type": "string",
          "description": "Name of the hotel."
        },
        "location": {
          "type": "string",
          "description": "General location/district of the hotel."
        },
        "detailedAddress": {
            "type": "string",
            "description": "Full, specific address of the hotel."
        },
        "latitude": {
            "type": "number",
            "description": "GPS latitude."
        },
        "longitude": {
            "type": "number",
            "description": "GPS longitude."
        },
        "phoneNumber": {
          "type": "string",
          "description": "Contact phone number for the hotel."
        },
        "amenities": {
          "type": "array",
          "description": "List of amenities offered by the hotel.",
          "items": { "type": "string" }
        },
        "galleryImageIds": {
            "type": "array",
            "description": "List of image IDs for the hotel's gallery.",
            "items": { "type": "string" }
        },
        "bankName": { "type": "string" },
        "accountNumber": { "type": "string" },
        "accountHolderName": { "type": "string" },
        "contractSignedOn": { "type": "string", "format": "date-time" },
        "signatureName": { "type": "string" }
      },
      "required": ["id", "hotelName", "location", "phoneNumber"]
    },
    "Room": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Room",
      "type": "object",
      "description": "Represents a template for a room type within a hotel.",
      "properties": {
        "id": { "type": "string" },
        "roomName": { "type": "string" },
        "hotelName": { "type": "string" },
        "price": { "type": "number" },
        "originalPrice": { "type": "number" },
        "amenities": { "type": "array", "items": { "type": "string" } },
        "imageIds": { "type": "array", "items": { "type": "string" } },
        "location": { "type": "string" },
        "ownerId": { "type": "string", "description": "The UID of the user who owns the hotel." },
        "phoneNumber": { "type": "string" },
        "totalQuantity": { "type": "integer" },
        "rating": { "type": "number" },
        "distance": { "type": "number" },
        "likes": { "type": "integer" }
      },
      "required": ["id", "roomName", "price", "ownerId", "totalQuantity"]
    },
    "RoomInstance": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "RoomInstance",
        "type": "object",
        "description": "Represents a single physical room.",
        "properties": {
            "instanceId": { "type": "string" },
            "roomTypeId": { "type": "string", "$ref": "#/entities/Room" },
            "roomNumber": { "type": "string" },
            "status": { "type": "string", "enum": ["available", "booked", "maintenance", "closed", "occupied"] },
            "bookingCode": { "type": "string" },
            "ownerId": { "type": "string" },
            "overrides": {
                "type": "object",
                "patternProperties": {
                    "^[0-9]{4}-[0-9]{2}-[0-9]{2}$": {
                        "type": "object",
                        "properties": {
                            "status": { "type": "string", "enum": ["available", "booked", "maintenance", "closed", "occupied"] },
                            "bookingCode": { "type": "string" },
                            "price": { "type": "number" }
                        }
                    }
                }
            }
        },
        "required": ["instanceId", "roomTypeId", "roomNumber", "status", "ownerId"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/hotels/{hotelId}": {
        "schema": { "$ref": "#/entities/Hotel" },
        "description": "Stores information for a single hotel. The document ID is the UID of the hotel owner."
    },
    "/room_types/{roomTypeId}": {
        "schema": { "$ref": "#/entities/Room" },
        "description": "Stores templates for different types of rooms available across all hotels."
    },
    "/room_instances/{instanceId}": {
        "schema": { "$ref": "#/entities/RoomInstance" },
        "description": "Stores data for each individual, physical room instance."
    }
  }
}
